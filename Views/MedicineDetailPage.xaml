<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MedicinesTracker.Views.MedicineDetailPage"
             x:DataType="viewModels:MedicineDetailVM"
             xmlns:models="clr-namespace:MedicinesTracker.Models.Dto"
             xmlns:viewModels="clr-namespace:MedicinesTracker.ViewModels"
             Title="Информация о лекарстве">
    <VerticalStackLayout>
        <Border  Margin="0,0,0,10">
            <Border.GestureRecognizers>
                <TapGestureRecognizer 
                    Command="{Binding OpenBaseInfoPageCommand, 
                    Source={RelativeSource AncestorType={x:Type viewModels:MedicineDetailVM}},
                    x:DataType=viewModels:MedicineDetailVM}"
                    CommandParameter="{Binding Medicine}" />   
            </Border.GestureRecognizers>
            <StackLayout Spacing="10" 
                         Padding="15">
                <HorizontalStackLayout Spacing="15">
                    <Image Source="medicine_card_icon.png"
                           Style="{StaticResource MedicineIconStyle}"/>
                    <VerticalStackLayout Spacing="10" >
                        <StackLayout Spacing="5">
                            <Label Text="Основная информация"
                                   Style="{StaticResource CardTitletyle}"/>
                        </StackLayout>
                        <HorizontalStackLayout Spacing="5">
                            <Label Text="Редактировать основную информацию"
                                   Style="{StaticResource DetailLinkStyle}"/>
                            <Image Source="hint_swap_right.png"
                                   Style="{StaticResource DetailLinkIconStyle}"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </StackLayout>
        </Border>
        <Border Margin="0,0,0,10">
            <Border.GestureRecognizers>
                <TapGestureRecognizer 
                    Command="{Binding OpenStockPageCommand, 
                    Source={RelativeSource AncestorType={x:Type viewModels:MedicineDetailVM}},
                    x:DataType=viewModels:MedicineDetailVM}"
                    CommandParameter="{Binding Medicine}" />       
            </Border.GestureRecognizers>
            <StackLayout Spacing="10" 
                         Padding="15">
                <HorizontalStackLayout Spacing="10">
                    <Image 
                        Source="medicine_box_filled.png"
                        Style="{StaticResource MedicineIconStyle}"/>
                    <VerticalStackLayout Spacing="10" >
                        <StackLayout Spacing="5">
                            <Label 
                                Text="Запас"
                                Style="{StaticResource CardTitletyle}"/>
                        </StackLayout>
                        <HorizontalStackLayout Spacing="5">
                            <Label Text="Редактировать запас"
                                   Style="{StaticResource DetailLinkStyle}"/>
                            <Image Source="hint_swap_right.png"
                                   Style="{StaticResource DetailLinkIconStyle}"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </StackLayout>
        </Border>
        <Border Margin="0,0,0,10">
            <Border.GestureRecognizers>
                <TapGestureRecognizer 
                    Command="{Binding OpenNotificationPageCommand, 
                    Source={RelativeSource AncestorType={x:Type viewModels:MedicineDetailVM}},
                    x:DataType=viewModels:MedicineDetailVM}"
                    CommandParameter="{Binding Medicine}" />   
            </Border.GestureRecognizers>
            <StackLayout 
                Spacing="10"
                Padding="15">
                <HorizontalStackLayout Spacing="10">
                    <Image 
                        Source="date_time.png"
                        Style="{StaticResource MedicineIconStyle}"/>
                    <VerticalStackLayout Spacing="10" >
                        <StackLayout Spacing="5">
                            <Label 
                                Text="График приёма лекарств"
                                Style="{StaticResource CardTitletyle}"/>
                        </StackLayout>
                        <HorizontalStackLayout Spacing="5">
                            <Label Text="Редактировать график приёма"
                                   Style="{StaticResource DetailLinkStyle}"/>
                            <Image Source="hint_swap_right.png"
                                   Style="{StaticResource DetailLinkIconStyle}"/>
                        </HorizontalStackLayout>
                    </VerticalStackLayout>
                </HorizontalStackLayout>
            </StackLayout>
        </Border>
        <Button
            Text="Удалить лекарство"
            TextColor="{StaticResource PrimaryDark}"
            FontSize="16"
            Margin="0,10,0,0"
            FontAttributes="Bold"
            Padding="0"
            BackgroundColor="Transparent"
            BorderColor="Transparent"
            CornerRadius="0"
            Opacity="1"
            Grid.Column="1" />
    </VerticalStackLayout>
</ContentPage>